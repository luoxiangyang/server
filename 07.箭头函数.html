<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn" data-id="1">按钮</button>
    <script>
        //1函数声明式
        function f1(x) {
            return x + 1
        }
        //2.函数表达式
        let f2 = function (x) {
            return x + 1
        }
        //3.箭头函数
        //在函数表达式的基础上进行改造
        const f3 = (x) => {
            return x + 1
        }
        //-------------------------------------
        //  1.当形参有且只有一个 可以省略
        let f4 = x => {
            return x + 1
        }
        //  2.当函数体只有一条语句就可以省略大括号
        let f5 = x => console.log(x + 1);
        //  3.当函数体只有一条语句 并且是return语句 
        //      就可以省略大括号+return
        let f6 = x => x + 1;
        //如果返回值是对象 外面加小括号
        let f7 = () => ({ a: 1 })

        //----------------------箭头函数与普通函数的区别
        //  1.内部没有arguments
        let fn1 = (...arg) => {
            console.log(arg);
        }
        fn1(1, 2, 3);
        //  2.不能作为构造器
        //let a=new fn1();//这里箭头函数不能 new 做构造器
        //  3.内部没有this
        //1.以访问this 只是这个this不是自己的 是window的
        //2.他能访问到this是在定义这个箭头函数时坐在的位置 能访问到的this
        let fn2 = () => {
            console.log(this);

        }
        //------------------------------------------------
        let obj = { a: 10 };
        let obj1 = { a: 1 };
        let fn3 = () => {
            console.log(this.a);
        }
        //由于箭头函数内部没有this 这里call不能改变this指向 
        //
        fn3.call(obj)//undefined  访问的是window的this 没有window.a 所以undefined

        //----------------------------------------箭头函数实践
        //1.如果不涉及this  可以放心使用 用它来替换函数声明式，函数表达式 声明的函数
        //常见会涉及this的:构造器，继承，事件响应函数。。。
        //2.如果函数内部有用this 则一定要特别注意：先打出来看看
        var arr = [1, 3, 4, 5, -1, 7];
        // arr.sort(function (a, b) {
        //     return a - b;
        // });
        //以上函数没有用this 改为箭头函数
        arr.sort((a, b) => a - b);
        console.log(arr);
        //有this的函数 因为函数要使用this不能正常使用
        document.getElementById('btn').onclick = function () {
            alert(this.getAttribute('data-id'))
        }
    </script>
</body>

</html>